pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
angle=0
power=40
player_x=64
player_y=64
aim_x=0
aim_y=0

function _update()
	angle-=0.01
	aim_x=cos(angle)*power+player_x
	aim_y=sin(angle)*(power/2)+player_y
end

function _draw()
	cls(1)
 draw_tiles()
 
 line(
 	player_x,
 	player_y,
 	aim_x,
 	aim_y
 )
 -- aim sprite
 spr(
 	0x10,
 	aim_x-4,
 	aim_y-4
 )
 -- player sprite
 spr(
 	3,
 	player_x-8,
 	player_y-15,
 	2,
 	2
 )

end
-->8
-- tiles

function draw_tiles()
	for y = 0,30,1 do
		if y%2==0 then
			offset=0
		else
			offset=8
		end
		for x = 0,7,1 do
			tile=1
			spr(tile,x*16+offset,y*4)
			spr(tile+1,x*16+offset+8,y*4)
		end
	end
end
__gfx__
00000000000000bb0000000000000444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000666d00000bb335500000000004444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00666ddd00bb333333550000000444ff444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0666ddddbb333333333355000004fff44fff40000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6666ddddbb33333333335500000eff0ff0ffe0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
666666dd00bb3333335500000000ffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
006666dd0000bb33550000000000ffff0fff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000bb00000000000000ffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07077070000000000000000000008888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000088888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07077070000000000000000000ff0111111dff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07077070000000000000000000f00110011ddf000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000110011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0707707000000000000000000000ccc00ccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000ccc00ccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
